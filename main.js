(()=>{"use strict";function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var a,r=t((function e(t){var a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={Backquote:{row:0,en:{value:"`",shiftedValue:"~",isLetter:!1},ru:{value:"ё",shiftedValue:"Ё",isLetter:!0}},Digit1:{row:0,en:{value:"1",shiftedValue:"!",isLetter:!1},ru:{value:"1",shiftedValue:"!",isLetter:!1}},Digit2:{row:0,en:{value:"2",shiftedValue:"@",isLetter:!1},ru:{value:"2",shiftedValue:'"',isLetter:!1}},Digit3:{row:0,en:{value:"3",shiftedValue:"#",isLetter:!1},ru:{value:"3",shiftedValue:"№",isLetter:!1}},Digit4:{row:0,en:{value:"4",shiftedValue:"$",isLetter:!1},ru:{value:"4",shiftedValue:";",isLetter:!1}},Digit5:{row:0,en:{value:"5",shiftedValue:"%",isLetter:!1},ru:{value:"5",shiftedValue:"%",isLetter:!1}},Digit6:{row:0,en:{value:"6",shiftedValue:"^",isLetter:!1},ru:{value:"6",shiftedValue:":",isLetter:!1}},Digit7:{row:0,en:{value:"7",shiftedValue:"&",isLetter:!1},ru:{value:"7",shiftedValue:"?",isLetter:!1}},Digit8:{row:0,en:{value:"8",shiftedValue:"*",isLetter:!1},ru:{value:"8",shiftedValue:"*",isLetter:!1}},Digit9:{row:0,en:{value:"9",shiftedValue:"(",isLetter:!1},ru:{value:"9",shiftedValue:"(",isLetter:!1}},Digit0:{row:0,en:{value:"0",shiftedValue:")",isLetter:!1},ru:{value:"0",shiftedValue:")",isLetter:!1}},Minus:{row:0,en:{value:"-",shiftedValue:"_",isLetter:!1},ru:{value:"-",shiftedValue:"_",isLetter:!1}},Equal:{row:0,en:{value:"=",shiftedValue:"+",isLetter:!1},ru:{value:"=",shiftedValue:"+",isLetter:!1}},Backspace:{row:0,label:"Backspace",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},Tab:{row:1,label:"Tab",en:{value:"\t",shiftedValue:"\t",isLetter:!1},ru:{value:"\t",shiftedValue:"\t",isLetter:!1}},KeyQ:{row:1,en:{value:"q",shiftedValue:"Q",isLetter:!0},ru:{value:"й",shiftedValue:"Й",isLetter:!0}},KeyW:{row:1,en:{value:"w",shiftedValue:"W",isLetter:!0},ru:{value:"ц",shiftedValue:"Ц",isLetter:!0}},KeyE:{row:1,en:{value:"e",shiftedValue:"E",isLetter:!0},ru:{value:"у",shiftedValue:"У",isLetter:!0}},KeyR:{row:1,en:{value:"r",shiftedValue:"R",isLetter:!0},ru:{value:"к",shiftedValue:"К",isLetter:!0}},KeyT:{row:1,en:{value:"t",shiftedValue:"T",isLetter:!0},ru:{value:"е",shiftedValue:"Е",isLetter:!0}},KeyY:{row:1,en:{value:"y",shiftedValue:"Y",isLetter:!0},ru:{value:"н",shiftedValue:"Н",isLetter:!0}},KeyU:{row:1,en:{value:"u",shiftedValue:"U",isLetter:!0},ru:{value:"г",shiftedValue:"Г",isLetter:!0}},KeyI:{row:1,en:{value:"i",shiftedValue:"I",isLetter:!0},ru:{value:"ш",shiftedValue:"Ш",isLetter:!0}},KeyO:{row:1,en:{value:"o",shiftedValue:"O",isLetter:!0},ru:{value:"щ",shiftedValue:"Щ",isLetter:!0}},KeyP:{row:1,en:{value:"p",shiftedValue:"P",isLetter:!0},ru:{value:"з",shiftedValue:"З",isLetter:!0}},BracketLeft:{row:1,en:{value:"[",shiftedValue:"{",isLetter:!1},ru:{value:"х",shiftedValue:"Х",isLetter:!0}},BracketRight:{row:1,en:{value:"]",shiftedValue:"}",isLetter:!1},ru:{value:"ъ",shiftedValue:"Ъ",isLetter:!0}},Delete:{row:1,label:"Delete",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},CapsLock:{row:2,label:"CapsLock",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},KeyA:{row:2,en:{value:"a",shiftedValue:"A",isLetter:!0},ru:{value:"ф",shiftedValue:"Ф",isLetter:!0}},KeyS:{row:2,en:{value:"s",shiftedValue:"S",isLetter:!0},ru:{value:"ы",shiftedValue:"Ы",isLetter:!0}},KeyD:{row:2,en:{value:"d",shiftedValue:"D",isLetter:!0},ru:{value:"в",shiftedValue:"В",isLetter:!0}},KeyF:{row:2,en:{value:"f",shiftedValue:"F",isLetter:!0},ru:{value:"а",shiftedValue:"А",isLetter:!0}},KeyG:{row:2,en:{value:"g",shiftedValue:"G",isLetter:!0},ru:{value:"п",shiftedValue:"П",isLetter:!0}},KeyH:{row:2,en:{value:"h",shiftedValue:"H",isLetter:!0},ru:{value:"р",shiftedValue:"Р",isLetter:!0}},KeyJ:{row:2,en:{value:"j",shiftedValue:"J",isLetter:!0},ru:{value:"о",shiftedValue:"О",isLetter:!0}},KeyK:{row:2,en:{value:"k",shiftedValue:"K",isLetter:!0},ru:{value:"л",shiftedValue:"Л",isLetter:!0}},KeyL:{row:2,en:{value:"l",shiftedValue:"L",isLetter:!0},ru:{value:"д",shiftedValue:"Д",isLetter:!0}},Semicolon:{row:2,en:{value:";",shiftedValue:":",isLetter:!1},ru:{value:"ж",shiftedValue:"Ж",isLetter:!0}},Quote:{row:2,en:{value:"'",shiftedValue:'"',isLetter:!1},ru:{value:"э",shiftedValue:"Э",isLetter:!0}},Enter:{row:2,label:"Enter",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ShiftLeft:{row:3,label:"Shift",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},KeyZ:{row:3,en:{value:"z",shiftedValue:"Z",isLetter:!0},ru:{value:"я",shiftedValue:"Я",isLetter:!0}},KeyX:{row:3,en:{value:"x",shiftedValue:"X",isLetter:!0},ru:{value:"ч",shiftedValue:"Ч",isLetter:!0}},KeyC:{row:3,en:{value:"c",shiftedValue:"C",isLetter:!0},ru:{value:"с",shiftedValue:"С",isLetter:!0}},KeyV:{row:3,en:{value:"v",shiftedValue:"V",isLetter:!0},ru:{value:"м",shiftedValue:"М",isLetter:!0}},KeyB:{row:3,en:{value:"b",shiftedValue:"B",isLetter:!0},ru:{value:"и",shiftedValue:"И",isLetter:!0}},KeyN:{row:3,en:{value:"n",shiftedValue:"N",isLetter:!0},ru:{value:"т",shiftedValue:"Т",isLetter:!0}},KeyM:{row:3,en:{value:"m",shiftedValue:"M",isLetter:!0},ru:{value:"ь",shiftedValue:"Ь",isLetter:!0}},Comma:{row:3,en:{value:",",shiftedValue:"<",isLetter:!1},ru:{value:"б",shiftedValue:"Б",isLetter:!0}},Period:{row:3,en:{value:".",shiftedValue:">",isLetter:!1},ru:{value:"ю",shiftedValue:"Ю",isLetter:!0}},Slash:{row:3,en:{value:"/",shiftedValue:"?",isLetter:!1},ru:{value:".",shiftedValue:",",isLetter:!1}},ArrowUp:{row:3,label:"↑",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ShiftRight:{row:3,label:"Shift",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ControlLeft:{row:4,label:"Ctrl",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},Win:{row:4,label:"Win",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},AltLeft:{row:4,label:"Alt",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},Space:{row:4,label:"-",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},AltRight:{row:4,label:"Alt",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ControlRight:{row:4,label:"Ctrl",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ArrowLeft:{row:4,label:"←",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ArrowDown:{row:4,label:"↓",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}},ArrowRight:{row:4,label:"→",en:{value:"",shiftedValue:"",isLetter:!1},ru:{value:"",shiftedValue:"",isLetter:!1}}},(a="keys")in this?Object.defineProperty(this,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):this.keys=r,this.lang=t}));function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e,t,a,r){var u,l=document.createElement(e);return t&&(u=l.classList).add.apply(u,s(t)),a&&(l.textContent=a),r&&Object.entries(r).length>0&&Object.entries(r).forEach((function(e){var t,a,r=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,s,i=[],u=!0,l=!1;try{for(a=a.call(e);!(u=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,s=e}finally{try{u||null==a.return||a.return()}finally{if(l)throw s}}return i}}(t,a)||i(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[0],u=r[1];l.setAttribute(s,u)})),l}function n(e){var t=e;Object.keys(t.keys).forEach((function(e){t.keys[e].element.textContent=t.keys[e].label||t.keys[e][t.lang].value}))}window.localStorage.getItem("lang")?a=window.localStorage.getItem("lang"):(a="ru",window.localStorage.setItem("lang",a));var o,d,f=new r(a),c={};function h(e,t){var a=e,r=t,s=a.lang;a.keys[r].shifted=!0!==a.keys[r].shifted,a.keys[r].shifted?a.keys[r].element.textContent=a.keys[r][s].shiftedValue:a.keys[r].element.textContent=a.keys[r][s].value}function v(e,t){var a=e,r=t,s=a.value.slice(0,a.selectionStart),i=a.value.slice(a.selectionStart);a.value=s+r+i,a.selectionEnd-=i.length}window.addEventListener("DOMContentLoaded",(function(){var e,t;!function(e){var t=l("div",["wrapper"]),a=l("div",["_container"]),r=l("h1",["prompt"],"Type in some text:"),i=l("div",["textarea","textarea__container"]),u=l("textarea",["textarea__field"],"",{name:"field",id:"textarea",autofocus:""}),o=l("button",["button","button__reset"]),d=l("div",["keyboard"]),f=l("div",["keyboard__wrapper"]),c=function(e){for(var t=e,a=[],r=0;r<5;r+=1)a.push(l("div",["keyboard__row"]));return Object.keys(t.keys).forEach((function(e){var r=function(e,t){var a,r=["keyboard__key"],s="";switch(t.label&&r.push("keyboard__key--special"),e){case"Backspace":r.push("keyboard__key--backspace");break;case"Tab":s="tab",r.push("keyboard__key--tab");break;case"CapsLock":case"Win":r.push("keyboard__key--tab");break;case"Delete":r.push("keyboard__key--del");break;case"Enter":r.push("keyboard__key--enter");break;case"ShiftLeft":r.push("keyboard__key--shift");break;case"ShiftRight":r.push("keyboard__key--shift","keyboard__key--shift-right");break;case"ControlLeft":case"ControlRight":r.push("keyboard__key--ctrl");break;case"AltLeft":case"AltRight":r.push("keyboard__key--alt");break;case"Space":r.push("keyboard__key--space");break;case"ArrowUp":s="arr_up",r.push("keyboard__key--arr");break;case"ArrowDown":s="arr_down",r.push("keyboard__key--arr");break;case"ArrowRight":s="arr_right",r.push("keyboard__key--arr");break;case"ArrowLeft":s="arr_left",r.push("keyboard__key--arr");break;default:r.push("keyboard__key--standard")}var i=document.createElement("button");return(a=i.classList).add.apply(a,r),s&&(i.id=s),i}(e,t.keys[e]);r.textContent=t.keys[e].label||t.keys[e][t.lang].value,t.keys[e].element=r,a[t.keys[e].row].append(r)})),a}(e);n(e);var h=l("div",["caption"]),v=l("p",["caption__text"]),y=l("code",[],"Alt + Shift");v.append("Use ",y," to change layout"),h.append(v);var L=l("div",["caption"]),k=l("p",["caption__text"],"!Notice some function keys or key combinations may trigger your browsers' hot keys (or even OS keys, like 'Win') and hence not highlight keyboard keys. In this case click anywhere on page and try again");L.append(k),f.append.apply(f,s(c)),d.append(f),i.append(u,o),a.append(r,i,d,h,L),t.append(a),document.body.prepend(t)}(f),o=document.querySelector(".button__reset"),d=document.querySelector("#textarea"),e=d,t=o,Object.keys(f.keys).forEach((function(t){var a;switch(t){case"Backspace":a=function(){e.focus();var t=e.value.slice(0,e.selectionStart-1),a=e.value.slice(e.selectionStart);e.value=t.concat(a),e.selectionEnd-=a.length};break;case"Tab":a=function(t){t.preventDefault(),e.focus(),v(e,"\t")};break;case"Delete":a=function(){e.focus();var t=e.value.slice(0,e.selectionStart),a=e.value.slice(e.selectionStart+1);e.value=t.concat(a),e.selectionEnd-=a.length};break;case"CapsLock":a=function(){f.keys.CapsLock.element.classList.toggle("keyboard__key--toggled");var e=f.lang;Object.keys(f.keys).forEach((function(t){f.keys[t][e].isLetter&&h(f,t)}))};break;case"Enter":a=function(){e.focus(),v(e,"\n")};break;case"ShiftLeft":case"ShiftRight":f.keys[t].element.addEventListener("mousedown",(function(){Object.keys(f.keys).forEach((function(e){f.keys[e].element.classList.contains("keyboard__key--standard")&&h(f,e)}))})),f.keys[t].element.addEventListener("mouseup",(function(){Object.keys(f.keys).forEach((function(e){f.keys[e].element.classList.contains("keyboard__key--standard")&&h(f,e)}))}));break;case"Win":a=function(){e.focus(),v(e,"Congrats, you won!:)")};break;case"Space":a=function(){e.focus(),v(e," ")};break;case"ArrowUp":a=function(){e.focus(),e.selectionEnd-=e.textLength};break;case"ArrowDown":a=function(){e.focus(),e.selectionStart+=e.textLength};break;case"ArrowRight":a=function(){e.focus(),e.selectionStart+=1};break;case"ArrowLeft":a=function(){e.focus(),e.selectionEnd-=1};break;default:f.keys[t].element.classList.contains("keyboard__key--standard")&&(a=function(){e.focus(),f.keys[t].shifted?v(e,f.keys[t][f.lang].shiftedValue):v(e,f.keys[t][f.lang].value)})}a&&f.keys[t].element.addEventListener("click",(function(e){a(e)}))})),t.addEventListener("click",(function(){e.value=""})),function(e){var t=e;document.addEventListener("keydown",(function(e){if(f.keys["".concat(e.code)]&&(t.focus(),f.keys["".concat(e.code)].element.classList.add("keyboard__key--highlight")),"Tab"===e.code&&(e.preventDefault(),t.focus(),t.value+="\t"),"CapsLock"===e.code&&!e.repeat){f.keys.CapsLock.element.classList.toggle("keyboard__key--toggled");var a=f.lang;Object.keys(f.keys).forEach((function(e){f.keys[e][a].isLetter&&h(f,e)}))}"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||e.repeat||Object.keys(f.keys).forEach((function(e){f.keys[e].element.classList.contains("keyboard__key--standard")&&h(f,e)})),c["".concat(e.code)]=!0,(c.ShiftLeft||c.ShiftRight)&&(c.AltLeft||c.AltRight)&&(f.lang="en"===f.lang?"ru":"en",window.localStorage.setItem("lang",f.lang),n(f))})),document.addEventListener("keyup",(function(e){f.keys["".concat(e.code)]&&f.keys["".concat(e.code)].element.classList.remove("keyboard__key--highlight"),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||Object.keys(f.keys).forEach((function(e){f.keys[e].element.classList.contains("keyboard__key--standard")&&h(f,e)})),c["".concat(e.code)]=!1}))}(d)}))})();
//# sourceMappingURL=main.js.map